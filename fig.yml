elasticsearch:
  image: dockerfile/elasticsearch:latest
  ports: 
    - "9200"
    - "9300"
  volumes:
    - /data
rabbitmq:
  image: raintank/rabbitmq
  ports:
    - "5672"
    - "15672"
influxdb:
  image: raintank/influxdb
  ports:
    - "8083"
    - "8086"
    - "2003"
grafanaPro:
  image: raintank/grafana-pro
  ports:
    - "3000"
  links: 
    - rabbitmq:rabbitmq
    - graphiteApi:graphite-api
graphiteApi:
  image: raintank/graphite-api
  ports:
    - "8888"
  links:
    - elasticsearch:elasticsearch
    - influxdb:influxdb
  environment:
    GRAPHITE_influxdb_host: influxdb
raintankCollectorCtrl:
  image: raintank/collector-ctrl
  links:
    - rabbitmq:rabbitmq
    - grafanaPro:grafana-pro
  ports:
    - "8181:8181"
  volumes:
    - /var/docker/raintank/logs:/var/log/raintank
raintankMetric:
  image: raintank/metric
  links:
    - rabbitmq:rabbitmq
    - elasticsearch:elasticsearch
    - influxdb:influxdb
  volumes:
    - /var/docker/raintank/logs:/var/log/raintank
raintankCollector:
  image: raintank/collector
  links:
    - raintankCollectorCtrl:collector-ctrl
    - grafanaPro:grafana-pro
  volumes:
    - /var/docker/raintank/logs:/var/log/raintank

